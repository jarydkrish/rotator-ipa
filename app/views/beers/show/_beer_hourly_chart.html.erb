<canvas id="beer-hourly-<%= beer.id %>" class="my-auto"></canvas>
<script type="text/javascript">
  var rawData = <%= raw(beer.hourly_chart_data.to_json) %>;
  var ctx = document.getElementById('beer-hourly-<%= beer.id %>').getContext('2d');
  var data = {
    datasets: [
      {
        label: 'Temperature',
        data: rawData,
        yAxisID: 'left-y-axis',
        parsing: {
          xAxisKey: 'time',
          yAxisKey: 'temperature'
        },
        fill: false,
        borderColor: 'forestgreen',
        backgroundColor: 'forestgreen',
      },
      {
        label: 'Specific Gravity',
        data: rawData,
        yAxisID: 'right-y-axis',
        parsing: {
          xAxisKey: 'time',
          yAxisKey: 'specific_gravity'
        },
        fill: false,
        borderColor: 'khaki',
        backgroundColor: 'yellow'
      }
    ],
  };
  var options = {
    tooltips: {
      mode: 'index'
    },
    scales: {
      'left-y-axis': {
        beginAtZero: true,
        suggestedMax: 120,
        ticks: {
          callback: function(value, index, values) {
            return value + 'Â° F';
          }
        }
      },
      'right-y-axis': {
          type: 'linear',
          position: 'right',
          suggestedMin: 0.80,
          suggestedMax: 1.20,
          gridLines: {
            display: false,
          },
      },
      xAxes: {
        type: 'time',
        time: {
          displayFormats: {
            hour: { month: "short", day: "numeric", hour: "numeric" }
          }
        }
      }
    }
  };
  new Chart(ctx, {
    type: 'line',
    data: data,
    options: options
  });
</script>
