<div class="flex flex-col rounded-lg shadow-lg overflow-hidden">
  <div class="flex-shrink-0">
    <div class="h-48 w-full">
      <canvas id="beer-<%= beer.id %>"></canvas>
      <script type="text/javascript">
        var ctx = document.getElementById('beer-<%= beer.id %>').getContext('2d');
        var data = {
          datasets: [{
            data: [
              <%= beer.time_after_start_before_bottle.to_i %>,
              <%= beer.time_until_bottle.to_i %>,
              <%= beer.time_after_bottle_before_ready.to_i %>,
              <%= beer.time_until_ready.to_i %>,
            ],
            backgroundColor: [
              'forestgreen',
              'gainsboro',
              'forestgreen',
              'gainsboro'
            ]
          }],
          // These labels appear in the legend and in the tooltips when hovering different arcs
          labels: [
            '<%= beer.bottled? ? "Beer is bottled" : "Days elapsed since start" %>',
            'Days until bottled',
            '<%= beer.brewed? ? "Beer is brewed" : "Days elapsed since bottled" %>',
            'Days until brewed',
          ]
        };
        var options = {
          rotation: -Math.PI,
          circumference: Math.PI,
          legend: {
            display: false,
          },
        };
        new Chart(ctx, {
          type: 'doughnut',
          data: data,
          options: options
        });
      </script>
    </div>
  </div>
  <div class="flex-1 bg-white p-6 flex flex-col justify-between z-10">
    <div class="flex-1">
      <p class="text-sm leading-5 font-medium text-indigo-600">
        <a href="<%= beer_url(beer) %>" class="hover:underline">
          <%= beer.kind %>
        </a>
      </p>
      <a href="<%= beer_url(beer) %>" class="block">
        <h3 class="mt-2 text-xl leading-7 font-semibold text-gray-900">
          <%= beer.name %>
        </h3>
        <p class="mt-3 text-base leading-6 text-gray-500">
          <%= beer.description %>
        </p>
      </a>
    </div>
  </div>
</div>
